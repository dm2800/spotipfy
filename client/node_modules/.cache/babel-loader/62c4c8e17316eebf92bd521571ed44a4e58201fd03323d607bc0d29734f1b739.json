{"ast":null,"code":"var _jsxFileName = \"/Users/danielmurcia/Documents/Coding Projects 2022/spotify_search/client/src/pages/Search.js\",\n  _s = $RefreshSig$();\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Container, InputGroup, FormControl, Button, Row, Card } from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\nimport Footer from \"../components/Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CLIENT_ID = \"992fe6a21db045fe87842d5c44ba748d\";\nconst CLIENT_SECRET = \"e46d84a50b374429a75c6ccaaae53c91\";\nfunction Search() {\n  _s();\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [albums, setAlbums] = useState([]);\n  useEffect(() => {\n    // API Access Token\n    var authParameters = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: \"grant_type=client_credentials&client_id=\" + CLIENT_ID + \"&client_secret=\" + CLIENT_SECRET\n    };\n    fetch(\"https://accounts.spotify.com/api/token\", authParameters).then(result => result.json()).then(data => setAccessToken(data.access_token));\n  }, []);\n\n  // Search\n\n  async function search() {\n    console.log(\"Search for \" + searchInput); // Taylor Swift\n\n    //Get request using search to get Artist ID\n    var searchParameters = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + accessToken\n      }\n    };\n    var artistID = await fetch(\"https://api.spotify.com/v1/search?q=\" + searchInput + \"&type=artist\", searchParameters).then(response => response.json()).then(data => {\n      return data.artists.items[0].id;\n    });\n    console.log(\"Artist ID is \" + artistID);\n    // Get request with Artist ID grab all albums\n\n    var albums = await fetch(\"https://api.spotify.com/v1/artists/\" + artistID + '/albums' + '?include_groups=album&market=US&limit=50', searchParameters).then(response => response.json()).then(data => {\n      console.log(data);\n      setAlbums(data.items);\n    });\n\n    // display those albums to the user\n  }\n\n  console.log(albums);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(InputGroup, {\n        className: \"mb-3\",\n        size: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(FormControl, {\n          placeholder: \"Search For Artist\",\n          type: \"input\",\n          onKeyPress: event => {\n            if (event.key == \"Enter\") {\n              search();\n            }\n          },\n          onChange: event => setSearchInput(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: search,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"mx-2 row row-cols-4\",\n        children: albums.map((album, i) => {\n          console.log(album);\n          return /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              src: album.images[0].url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                children: album.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 23\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n_s(Search, \"2+iHw/iZ/MCgF/KrFQzVsW627Is=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["Container","InputGroup","FormControl","Button","Row","Card","useState","useEffect","Footer","CLIENT_ID","CLIENT_SECRET","Search","searchInput","setSearchInput","accessToken","setAccessToken","albums","setAlbums","authParameters","method","headers","body","fetch","then","result","json","data","access_token","search","console","log","searchParameters","artistID","response","artists","items","id","event","key","target","value","map","album","i","images","url","name"],"sources":["/Users/danielmurcia/Documents/Coding Projects 2022/spotify_search/client/src/pages/Search.js"],"sourcesContent":["\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport {\n    Container,\n    InputGroup,\n    FormControl,\n    Button,\n    Row,\n    Card,\n} from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\nimport Footer from \"../components/Footer\";\n\nconst CLIENT_ID = \"992fe6a21db045fe87842d5c44ba748d\";\nconst CLIENT_SECRET = \"e46d84a50b374429a75c6ccaaae53c91\";\n\nfunction Search() {\n    const [searchInput, setSearchInput] = useState(\"\");\n    const [accessToken, setAccessToken] = useState(\"\");\n    const [albums, setAlbums] = useState([]);\n\n    useEffect(() => {\n        // API Access Token\n        var authParameters = {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n            body:\n                \"grant_type=client_credentials&client_id=\" +\n                CLIENT_ID +\n                \"&client_secret=\" +\n                CLIENT_SECRET,\n        };\n        fetch(\"https://accounts.spotify.com/api/token\", authParameters)\n            .then((result) => result.json())\n            .then((data) => setAccessToken(data.access_token));\n    }, []);\n\n    // Search\n\n    async function search() {\n        console.log(\"Search for \" + searchInput); // Taylor Swift\n\n        //Get request using search to get Artist ID\n        var searchParameters = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \" + accessToken,\n            },\n        };\n        var artistID = await fetch(\n            \"https://api.spotify.com/v1/search?q=\" +\n                searchInput +\n                \"&type=artist\",\n            searchParameters\n        )\n            .then((response) => response.json())\n            .then(data => { return data.artists.items[0].id});\n\n            console.log(\"Artist ID is \" + artistID);\n        // Get request with Artist ID grab all albums\n\n        var albums = await fetch( \"https://api.spotify.com/v1/artists/\" + artistID + '/albums'+ '?include_groups=album&market=US&limit=50', searchParameters) \n        .then(response=> response.json())\n        .then(data=> {\n          console.log(data);\n          setAlbums(data.items);\n        }); \n\n        // display those albums to the user\n    }\n    console.log(albums);\n\n    return (\n        <div className=\"App\">\n\n          <Header></Header>\n            <Container>\n                <InputGroup className=\"mb-3\" size=\"lg\">\n                    <FormControl\n                        placeholder=\"Search For Artist\"\n                        type=\"input\"\n                        onKeyPress={(event) => {\n                            if (event.key == \"Enter\") {\n                                search();\n                            }\n                        }}\n                        onChange={(event) => setSearchInput(event.target.value)}\n                    />\n                    <Button onClick={search}>Search</Button>\n                </InputGroup>\n            </Container>\n            <Container>\n                <Row className=\"mx-2 row row-cols-4\">\n                  {albums.map((album, i)=> {\n                    console.log(album);\n                    return (\n                      <Card>\n                        <Card.Img src={album.images[0].url} />\n                        <Card.Body>\n                            <Card.Title>{album.name}</Card.Title>\n                        </Card.Body>\n                    </Card>\n                    )\n                  })}\n                    \n                </Row>\n  <Footer></Footer>\n            </Container>\n    \n        </div>\n    );\n}\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}