{"ast":null,"code":"var _jsxFileName = \"/Users/danielmurcia/Documents/Coding Projects 2022/spotipfy/client/src/pages/Search.js\",\n  _s = $RefreshSig$();\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Container, InputGroup, FormControl, Button, Row, Card } from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\nimport Footer from \"../components/Footer\";\nimport Header from \"../components/Header\";\nimport \"../App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CLIENT_ID = \"992fe6a21db045fe87842d5c44ba748d\";\nconst CLIENT_SECRET = \"e46d84a50b374429a75c6ccaaae53c91\";\nfunction Search() {\n  _s();\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [albums, setAlbums] = useState([]);\n  useEffect(() => {\n    // API Access Token\n    var authParameters = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: \"grant_type=client_credentials&client_id=\" + CLIENT_ID + \"&client_secret=\" + CLIENT_SECRET\n    };\n    fetch(\"https://accounts.spotify.com/api/token\", authParameters).then(result => result.json()).then(data => setAccessToken(data.access_token));\n  }, []);\n\n  // Search\n\n  async function search() {\n    console.log(\"Search for \" + searchInput); // Taylor Swift\n\n    //Get request using search to get Artist ID\n    var searchParameters = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + accessToken\n      }\n    };\n    var artistID = await fetch(\"https://api.spotify.com/v1/search?q=\" + searchInput + \"&type=artist\", searchParameters).then(response => response.json()).then(data => {\n      return data.artists.items[0].id;\n    });\n    console.log(\"Artist ID is \" + artistID);\n    // Get request with Artist ID grab all albums\n\n    var albums = await fetch(\"https://api.spotify.com/v1/artists/\" + artistID + \"/albums\" + \"?include_groups=album&market=US&limit=50\", searchParameters).then(response => response.json()).then(data => {\n      console.log(data);\n      setAlbums(data.items);\n    });\n\n    // display those albums to the user\n  }\n\n  console.log(albums);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(InputGroup, {\n        className: \"mb-3\",\n        size: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(FormControl, {\n          placeholder: \"Search For Artist\",\n          type: \"input\",\n          onKeyPress: event => {\n            if (event.key == \"Enter\") {\n              search();\n            }\n          },\n          onChange: event => setSearchInput(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: search,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"mx-2 row row-cols-4\",\n        children: albums.map((album, i) => {\n          console.log(album);\n          return /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              backgroundColor: \"rgba(238, 130, 238, 0.2)\",\n              margin: \"\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              src: album.images[0].url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Card.Title, {\n                children: album.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n}\n_s(Search, \"2+iHw/iZ/MCgF/KrFQzVsW627Is=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["Container","InputGroup","FormControl","Button","Row","Card","useState","useEffect","Footer","Header","CLIENT_ID","CLIENT_SECRET","Search","searchInput","setSearchInput","accessToken","setAccessToken","albums","setAlbums","authParameters","method","headers","body","fetch","then","result","json","data","access_token","search","console","log","searchParameters","Authorization","artistID","response","artists","items","id","event","key","target","value","map","album","i","backgroundColor","margin","images","url","name"],"sources":["/Users/danielmurcia/Documents/Coding Projects 2022/spotipfy/client/src/pages/Search.js"],"sourcesContent":["import \"bootstrap/dist/css/bootstrap.min.css\";\nimport {\n    Container,\n    InputGroup,\n    FormControl,\n    Button,\n    Row,\n    Card,\n} from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\nimport Footer from \"../components/Footer\";\nimport Header from \"../components/Header\";\n\nimport \"../App.css\";\n\nconst CLIENT_ID = \"992fe6a21db045fe87842d5c44ba748d\";\nconst CLIENT_SECRET = \"e46d84a50b374429a75c6ccaaae53c91\";\n\nfunction Search() {\n    const [searchInput, setSearchInput] = useState(\"\");\n    const [accessToken, setAccessToken] = useState(\"\");\n    const [albums, setAlbums] = useState([]);\n\n    useEffect(() => {\n        // API Access Token\n        var authParameters = {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n            body:\n                \"grant_type=client_credentials&client_id=\" +\n                CLIENT_ID +\n                \"&client_secret=\" +\n                CLIENT_SECRET,\n        };\n        fetch(\"https://accounts.spotify.com/api/token\", authParameters)\n            .then((result) => result.json())\n            .then((data) => setAccessToken(data.access_token));\n    }, []);\n\n    // Search\n\n    async function search() {\n        console.log(\"Search for \" + searchInput); // Taylor Swift\n\n        //Get request using search to get Artist ID\n        var searchParameters = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + accessToken,\n            },\n        };\n        var artistID = await fetch(\n            \"https://api.spotify.com/v1/search?q=\" +\n                searchInput +\n                \"&type=artist\",\n            searchParameters\n        )\n            .then((response) => response.json())\n            .then((data) => {\n                return data.artists.items[0].id;\n            });\n\n        console.log(\"Artist ID is \" + artistID);\n        // Get request with Artist ID grab all albums\n\n        var albums = await fetch(\n            \"https://api.spotify.com/v1/artists/\" +\n                artistID +\n                \"/albums\" +\n                \"?include_groups=album&market=US&limit=50\",\n            searchParameters\n        )\n            .then((response) => response.json())\n            .then((data) => {\n                console.log(data);\n                setAlbums(data.items);\n            });\n\n        // display those albums to the user\n    }\n    console.log(albums);\n\n    return (\n        <div className=\"App\">\n            <Header></Header>\n            <Container>\n                <InputGroup className=\"mb-3\" size=\"lg\">\n                    <FormControl\n                        placeholder=\"Search For Artist\"\n                        type=\"input\"\n                        onKeyPress={(event) => {\n                            if (event.key == \"Enter\") {\n                                search();\n                            }\n                        }}\n                        onChange={(event) => setSearchInput(event.target.value)}\n                    />\n                    <Button onClick={search}>Search</Button>\n                </InputGroup>\n            </Container>\n            <Container>\n                <Row className=\"mx-2 row row-cols-4\">\n                    {albums.map((album, i) => {\n                        console.log(album);\n                        return (\n                            <Card style={{backgroundColor: \"rgba(238, 130, 238, 0.2)\", margin: \"\"}}>\n                                <Card.Img src={album.images[0].url} />\n                                <Card.Body>\n                                    <Card.Title>{album.name}</Card.Title>\n                                </Card.Body>\n                            </Card>\n                        );\n                    })}\n                </Row>\n                <Footer></Footer>\n            </Container>\n        </div>\n    );\n}\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}